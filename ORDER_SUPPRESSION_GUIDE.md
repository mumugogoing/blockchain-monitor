# 订单压制功能使用指南 (Order Suppression Guide)

## 功能概述

订单压制功能允许您监控特定区块链地址的交易活动，并在这些地址发起交易时快速执行抢先交易（Front-running）。这是一种高级交易策略，适合有经验的交易者使用。

## 主要功能

### 1. 地址监控列表

- **添加监控地址**: 将您想要跟踪的地址添加到监控列表
- **标签管理**: 为每个地址设置易识别的标签（如"大户A"、"鲸鱼钱包"等）
- **启用/禁用**: 可以临时禁用某个地址的监控而不删除它
- **备注**: 为每个地址添加详细备注信息
- **导入/导出**: 支持导入导出监控列表，方便在不同设备间同步

### 2. 实时交易检测

- **自动检测**: 当监控列表中的地址发起交易时，系统会立即检测到
- **视觉提醒**: 监控地址的交易会在表格中以特殊标记显示
- **声音提醒**: 可选的声音提醒功能，确保您不会错过重要交易
- **消息通知**: 屏幕上会弹出通知消息，显示是哪个监控地址发起了交易

### 3. 抢先交易执行

当检测到监控地址的交易时，您可以：

- **查看交易详情**: 查看完整的交易信息，包括交易对、金额、平台等
- **选择策略**: 
  - **跟单**: 执行相同方向的交易（在目标交易之前）
  - **反向**: 执行相反方向的交易（对冲策略）
  - **自定义**: 自定义交易金额和方向
- **设置倍数**: 可以设置交易量为目标交易的 0.1 到 10 倍
- **滑点控制**: 设置允许的最大价格滑点
- **优先级设置**: 选择交易优先级（手续费倍数）
  - 低优先级: 1.2x 手续费
  - 中优先级: 1.5x 手续费
  - 高优先级: 2.0x 手续费
  - 极高优先级: 3.0x 手续费

## 使用步骤

### 第一步：添加监控地址

1. 登录系统后，进入"Stacks 实时监控"页面
2. 点击页面顶部的"管理监控列表"按钮
3. 在弹出的对话框中，点击"添加地址"
4. 填写以下信息：
   - **地址**: 要监控的区块链地址（必填）
   - **标签**: 为地址设置一个易识别的名称（必填）
   - **备注**: 添加任何有用的备注信息（可选）
5. 点击"添加"按钮

### 第二步：启用监控

1. 在监控列表中，确保目标地址的开关处于"启用"状态
2. 启用的地址会显示蓝色标签
3. 可以同时监控多个地址

### 第三步：等待交易

1. 保持"Stacks 实时监控"页面打开
2. 确保 WebSocket 连接正常（页面会显示连接状态）
3. 建议开启声音提醒，避免错过重要交易
4. 系统会自动监控实时交易流

### 第四步：执行抢先交易

当检测到监控地址发起交易时：

1. 系统会：
   - 播放提示音（如果已启用）
   - 弹出通知消息
   - 在交易列表中突出显示该交易
   - 在"发送地址"列显示闪烁的监控标记
   - 在"操作"列显示红色的"抢先"按钮

2. 点击"抢先"按钮，打开抢先交易面板

3. 在面板中：
   - 查看目标交易的详细信息
   - 选择交易策略（跟单/反向/自定义）
   - 设置交易参数（倍数、滑点、优先级）
   - 查看预估手续费
   - 阅读风险提示

4. 确认无误后，点击"立即执行抢先交易"按钮

5. 系统会提交交易，并显示执行结果

## 功能特点

### 1. 监控列表管理

**位置**: 点击页面顶部的"管理监控列表"按钮

**功能**:
- ➕ **添加地址**: 快速添加新的监控地址
- ✏️ **编辑**: 修改地址的标签和备注
- 🗑️ **删除**: 从监控列表中移除地址
- 👁️ **启用/禁用**: 临时关闭某个地址的监控
- 📥 **导入**: 从 JSON 文件导入监控列表
- 📤 **导出**: 将监控列表导出为 JSON 文件
- 🗑️ **清空**: 一键清空所有监控地址

**数据持久化**: 监控列表保存在浏览器本地存储中，即使关闭浏览器也不会丢失。

### 2. 实时监控界面

**监控状态显示**:
- 页面顶部显示当前监控地址数量
- "监控交易提醒"按钮显示已检测到的监控交易总数
- 声音提醒开关

**交易表格**:
- 监控地址的交易会在"发送地址"列显示特殊标记（蓝色闪烁圆点）
- 鼠标悬停在标记上会显示地址标签
- "操作"列仅对监控地址显示"抢先"按钮

### 3. 抢先交易面板

**交易策略**:

1. **跟单策略** (Same Direction)
   - 执行与目标交易相同方向的交易
   - 设置倍数（例如 2 倍表示交易量是目标的 2 倍）
   - 适合跟随大户操作

2. **反向策略** (Opposite Direction)
   - 执行与目标交易相反方向的交易
   - 用于对冲或反向操作
   - 适合做市商和套利者

3. **自定义策略** (Custom)
   - 完全自定义交易金额
   - 不受目标交易金额限制
   - 适合有明确交易计划的用户

**参数配置**:
- **滑点容忍度**: 0.1% - 10%，控制价格波动容忍范围
- **优先级**: 控制交易手续费，优先级越高越容易抢先成交
  - 低: 适合不急的交易
  - 中: 平衡速度和成本
  - 高: 较快执行
  - 极高: 最快执行，但手续费最高

**预估信息**:
- 预估手续费（基于优先级）
- 预估执行时间
- 目标交易信息摘要

## 安全建议

⚠️ **重要提醒**

抢先交易是一种高风险操作，请务必注意以下事项：

### 1. 资金安全
- ✅ 确保钱包有足够余额支付交易和手续费
- ✅ 从小额交易开始，熟悉流程后再加大金额
- ✅ 设置合理的交易限额
- ❌ 不要投入超过您能承受损失的资金

### 2. 交易风险
- ⚠️ 抢先交易不保证成功，可能因网络延迟失败
- ⚠️ 市场波动可能导致实际成交价格与预期不符
- ⚠️ 高优先级手续费会增加成本，可能抵消利润
- ⚠️ 滑点过大可能导致不利的成交价格

### 3. 合规性
- ✅ 了解并遵守当地法律法规
- ✅ 某些司法管辖区可能限制或禁止抢先交易
- ✅ 确保您的交易行为符合交易所规则

### 4. 技术风险
- ✅ 确保稳定的网络连接
- ✅ 使用最新版本的浏览器
- ✅ 定期备份监控列表
- ❌ 不要在公共网络或不安全的环境中使用

## 最佳实践

### 1. 选择监控对象
- 监控有历史记录的大户地址
- 关注交易量大、影响市场的地址
- 定期检查和更新监控列表
- 移除不活跃的地址

### 2. 设置合理参数
- **跟单交易**: 
  - 倍数设置为 0.5-2 倍较为安全
  - 使用中等优先级
  - 滑点设置 0.5-1%
  
- **反向交易**:
  - 需要更快的执行速度，使用高优先级
  - 滑点可以适当放宽到 1-2%
  
- **自定义交易**:
  - 基于您的资金管理策略
  - 考虑市场流动性

### 3. 监控和优化
- 记录每次抢先交易的结果
- 分析成功率和盈亏
- 根据实际情况调整策略
- 定期评估监控地址的价值

### 4. 风险管理
- 设置每日交易限额
- 不要追逐每一个交易机会
- 保持冷静，避免情绪化交易
- 及时止损，不要贪婪

## 常见问题

### Q: 为什么没有收到通知？
A: 
- 检查地址是否已启用
- 确认 WebSocket 连接正常
- 检查声音提醒是否开启
- 确认浏览器允许通知权限

### Q: 抢先交易失败了怎么办？
A: 
- 检查网络连接
- 尝试提高优先级
- 确认钱包余额充足
- 查看交易日志获取详细错误信息

### Q: 如何提高抢先成功率？
A: 
- 使用更高的优先级
- 确保稳定的网络连接
- 提前设置好交易参数
- 保持页面打开并活跃

### Q: 监控列表可以同步吗？
A: 
- 使用导出功能将列表保存为 JSON 文件
- 在其他设备上使用导入功能恢复
- 定期备份避免数据丢失

### Q: 可以监控多少个地址？
A: 
- 理论上没有限制
- 建议不超过 50 个以保持性能
- 过多的监控地址可能影响检测效率

## 技术说明

### 数据存储
- 监控列表存储在浏览器 LocalStorage 中
- 每个用户的数据相互独立
- 清除浏览器数据会导致监控列表丢失，请定期导出备份

### 检测机制
- 基于 WebSocket 实时交易流
- 每笔交易都会检查发送地址是否在监控列表中
- 匹配不区分大小写

### 执行机制
- 当前为演示版本，实际执行需要集成钱包和 DEX 合约
- 未来版本将集成实际的交易执行功能
- 支持多个 DEX 平台

## 更新日志

### v1.0.0 (当前版本)
- ✅ 初始版本发布
- ✅ 基础监控功能
- ✅ 抢先交易面板
- ✅ 导入/导出功能
- ✅ 声音和视觉提醒

### 计划功能
- 🔜 实际交易执行集成
- 🔜 交易历史记录
- 🔜 性能统计和分析
- 🔜 自动化交易策略
- 🔜 多链支持

## 支持

如遇到问题或需要帮助：
- 查看系统日志（浏览器控制台）
- 参考本文档的常见问题部分
- 联系技术支持

---

**免责声明**: 本功能仅供学习和研究使用。抢先交易存在法律和道德争议，使用前请确保了解相关风险和法律后果。本系统不对因使用此功能造成的任何损失负责。
