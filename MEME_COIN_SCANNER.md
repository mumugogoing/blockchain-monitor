# Solana & Base Meme Coin Scanner

## 概述

本系统新增了 Solana 和 Base 链的 Meme Coin 扫描和自动交易功能，能够：

1. **实时扫描**新发布和热门的 Meme Coin
2. **自动评估**代币安全性（honeypot检测、流动性锁定等）
3. **计算胜率**基于多维度指标
4. **自动交易**当胜率≥80%且风控通过时可执行交易

## 功能特性

### 1. 代币扫描

#### Solana 链
- 使用 DexScreener API 获取新发布和热门代币
- 支持实时价格、流动性、交易量数据
- 自动缓存代币信息防止遗漏

#### Base 链
- 使用 DexScreener API 获取 Base 链代币
- 完整的 EVM 代币数据支持
- 实时市值和价格变化监控

### 2. 安全性检查

#### Solana 安全检查
- 使用 **RugCheck API** 进行安全性分析
- 检测项目：
  - Honeypot（蜜罐）检测
  - 流动性是否锁定
  - 权限是否放弃（Mint Authority）
  - Freeze Authority 状态
  - 持有者分布情况

#### Base 安全检查
- 使用 **GoPlus Security API** 进行检测
- 检测项目：
  - Honeypot 检测
  - 合约是否开源
  - 自毁函数检测
  - 黑名单检测
  - 外部调用风险
  - 流动性锁定状态
  - 所有权放弃状态

### 3. 胜率评估算法

胜率计算基于以下多个维度（总分100%）：

#### 安全性因素（最高+30%）
- 通过安全检查：+15%
- 流动性已锁定：+10%
- 所有权已放弃：+5%

#### 流动性因素（最高+15%）
- 流动性 > $100,000：+15%
- 流动性 > $50,000：+10%
- 流动性 > $10,000：+5%

#### 交易量因素（最高+15%）
- 24h交易量 > $1,000,000：+15%
- 24h交易量 > $500,000：+10%
- 24h交易量 > $100,000：+5%

#### 持有者分布（最高+10%）
- 持有者 > 1000：+5%
- Top10持有者占比 < 50%：+5%

#### 价格变化（最高+10%）
- 24h涨幅 0-100%：+10%
- 24h涨幅 > 100%：-5%（过度炒作风险）

#### 市值（最高+10%）
- 市值 $1M-$10M：+10%（合理范围）
- 市值 > $100K：+5%

#### 负面因素
- 检测到 Honeypot：-50%
- 不可出售：-40%
- 持有者过度集中（>80%）：-20%

### 4. 风控系统

交易前自动执行风控检查：

```typescript
// 默认风控参数
{
  minWinRate: 80,        // 最小胜率80%
  minLiquidity: 10000,   // 最小流动性$10,000
  maxTradeAmount: 100,   // 最大单笔交易$100
  maxSlippage: 5,        // 最大滑点5%
  riskControlEnabled: true
}
```

### 5. 交易执行

#### OKX Wallet 集成
- 支持通过 OKX Wallet 浏览器扩展签名交易
- 自动连接 Solana 和 EVM 钱包
- 交易确认界面

#### 私钥签名（可选）
- 支持使用私钥直接签名
- 适合自动化交易场景
- 需要在设置中配置

**注意**：当前版本提供了交易框架，完整的交易执行需要集成：
- Solana: Jupiter Aggregator 或 Raydium SDK
- Base: Uniswap V3 SDK

## 使用指南

### 1. 访问监控页面

登录系统后，在导航菜单中选择：
- **Solana Meme Coin** - Solana 链代币监控
- **Base Meme Coin** - Base 链代币监控

### 2. 查看代币信息

每个代币显示以下信息：
- 代币名称、符号、地址
- 当前价格
- 24小时价格变化
- 流动性
- 24小时交易量
- 市值
- 安全性状态（安全/风险）
- **胜率百分比**

### 3. 切换视图模式

两种视图模式：
- **新发代币** - 最新发布的代币
- **热门代币** - 按交易量排序的热门代币

### 4. 自动刷新

可配置的自动刷新间隔：
- 10秒
- 30秒（默认）
- 1分钟
- 2分钟
- 5分钟

### 5. 交易设置

点击 **"交易设置"** 按钮配置：

#### 基本设置
- **启用交易功能** - 总开关
- **最小胜率** - 默认80%，只显示达标代币的交易按钮
- **最小流动性** - 默认$10,000
- **最大交易金额** - 默认$100
- **最大滑点** - 默认5%

#### 钱包设置
- **使用 OKX Wallet** - 开启则通过钱包扩展
- 关闭则需要配置私钥

#### 风控设置
- **启用风控** - 建议保持开启

### 6. 执行交易

对于符合条件的代币（胜率≥80%且安全）：
1. 点击 **"交易"** 按钮
2. 确认交易信息
3. 系统自动执行风控检查
4. 通过后发起交易
5. 显示交易结果

## API 集成

### 数据源

#### DexScreener API
- 免费且稳定的 DEX 数据源
- 支持多链数据
- 实时价格和流动性信息
- 端点：`https://api.dexscreener.com/latest/dex/`

#### RugCheck API (Solana)
- Solana 专用安全检查
- 端点：`https://api.rugcheck.xyz/v1/`
- 提供详细的风险报告

#### GoPlus Security API (Base)
- 多链安全检查服务
- Base Chain ID: 8453
- 端点：`https://api.gopluslabs.io/api/v1/`

### 代码结构

```
src/
├── api/
│   ├── solana.ts      # Solana 链 API
│   ├── base.ts        # Base 链 API
│   └── trading.ts     # 交易执行 API
└── views/
    ├── SolanaMonitor.tsx  # Solana 监控页面
    └── BaseMonitor.tsx    # Base 监控页面
```

## 安全建议

1. **测试模式** - 首次使用建议关闭交易功能，只观察数据
2. **小额测试** - 开启交易后先使用小额（如$10）测试
3. **风控参数** - 建议保持默认风控参数或更严格
4. **私钥安全** - 如使用私钥模式，确保私钥安全存储
5. **定期检查** - 定期查看交易历史和盈亏情况

## 限制和注意事项

### 当前限制
1. **交易执行** - 需要集成具体的 DEX SDK（Jupiter/Raydium/Uniswap）
2. **Gas费** - 未包含 Gas 费用估算
3. **MEV保护** - 未实现 MEV 保护机制
4. **历史回测** - 胜率算法基于实时数据，未包含历史回测

### API 限制
- DexScreener API 有速率限制
- RugCheck API 可能对某些代币返回有限数据
- GoPlus API 需要遵守使用限制

### 市场风险
- Meme Coin 波动性极大
- 即使胜率80%也存在亏损风险
- 建议仅投入可承受损失的资金

## 后续改进计划

1. **集成 DEX SDK**
   - Jupiter Aggregator (Solana)
   - Raydium SDK (Solana)
   - Uniswap V3 SDK (Base)

2. **增强功能**
   - 历史数据回测
   - 交易记录和统计
   - 盈亏分析报表
   - 自动止盈止损

3. **优化算法**
   - 机器学习优化胜率预测
   - 社交媒体情绪分析
   - 链上大户动向监控

4. **安全增强**
   - MEV 保护
   - 交易签名二次确认
   - 冷钱包集成

## 技术支持

如遇到问题，请检查：
1. 浏览器控制台错误信息
2. 网络连接是否正常
3. OKX Wallet 扩展是否已安装
4. API 密钥是否正确配置

## 免责声明

本系统提供的代币分析和胜率评估仅供参考，不构成投资建议。加密货币交易具有高风险，可能导致全部资金损失。使用本系统进行交易的所有风险由用户自行承担。

建议用户：
- 充分了解区块链和加密货币风险
- 只投资可承受损失的资金
- 做好充分的市场研究
- 谨慎评估每一笔交易
